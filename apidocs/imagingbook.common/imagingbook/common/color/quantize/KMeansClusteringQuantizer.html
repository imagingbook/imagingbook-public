<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Fri Oct 24 09:26:42 CEST 2025 -->
<title>KMeansClusteringQuantizer (com.imagingbook:imagingbook-public 7.2.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-10-24">
<meta name="description" content="declaration: module: imagingbook.common, package: imagingbook.common.color.quantize, class: KMeansClusteringQuantizer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br><font face="verdana"><B>com.imagingbook:imagingbook-public 7.2.0-SNAPSHOT</B></font></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/KMeansClusteringQuantizer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li><a href="#nested-class-summary">Nested</a></li>
<li><a href="#field-summary">Field</a></li>
<li><a href="#constructor-summary">Constr</a></li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li><a href="#field-detail">Field</a></li>
<li><a href="#constructor-detail">Constr</a></li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li><a href="#nested-class-summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">imagingbook.common</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">imagingbook.common.color.quantize</a></div>
<h1 title="Class KMeansClusteringQuantizer" class="title">Class KMeansClusteringQuantizer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">imagingbook.common.color.quantize.KMeansClusteringQuantizer</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-38">KMeansClusteringQuantizer</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></span></div>
<div class="block"><p>
 This class implements color quantization using k-means clustering of image pixels in RGB color space. It provides two
 modes for selecting initial color clusters: (a) random sampling of the input colors, (b) using the K most frequent
 colors. Note that this implementation is mainly to demonstrate the concept. Depending on the data size and number of
 quantization colors, this process may be excessively slow compared to other methods. It is usually impractical even
 for medium-sized images. During clustering all input pixels are used, i.e., no stochastic sub-sampling is applied
 (which could make the process a lot more efficient).
 </p></div>
<dl class="notes">
<dt>Version:</dt>
<dd>2022/11/06</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="MedianCutQuantizer.html" title="class in imagingbook.common.color.quantize"><code>MedianCutQuantizer</code></a></li>
<li><a href="OctreeQuantizer.html" title="class in imagingbook.common.color.quantize"><code>OctreeQuantizer</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="caption"><span>Nested Classes</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static enum&nbsp;</code></div>
<div class="col-second even-row-color"><code><a href="KMeansClusteringQuantizer.InitialClusterMethod.html" class="type-name-link" title="enum class in imagingbook.common.color.quantize">KMeansClusteringQuantizer.InitialClusterMethod</a></code></div>
<div class="col-last even-row-color">
<div class="block">Method for choosing initial color clusters.</div>
</div>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>static int</code></div>
<div class="col-second even-row-color"><code><a href="#DefaultIterations" class="member-name-link">DefaultIterations</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>static long</code></div>
<div class="col-second odd-row-color"><code><a href="#RandomSeed" class="member-name-link">RandomSeed</a></code></div>
<div class="col-last odd-row-color">
<div class="block">Seed for random number generation (set to a nonzero value to obtain repeatable results for debugging and
 testing).</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-imagingbook.common.color.quantize.ColorQuantizer">Fields inherited from interface&nbsp;imagingbook.common.color.quantize.<a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></h3>
<code><a href="ColorQuantizer.html#MAX_RGB">MAX_RGB</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int%5B%5D,int)" class="member-name-link">KMeansClusteringQuantizer</a><wbr>(int[]&nbsp;pixels,
 int&nbsp;K)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor, creates a new <a href="KMeansClusteringQuantizer.html" title="class in imagingbook.common.color.quantize"><code>KMeansClusteringQuantizer</code></a> with up to K colors, using default parameters.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(int%5B%5D,int,imagingbook.common.color.quantize.KMeansClusteringQuantizer.InitialClusterMethod,int)" class="member-name-link">KMeansClusteringQuantizer</a><wbr>(int[]&nbsp;pixels,
 int&nbsp;K,
 <a href="KMeansClusteringQuantizer.InitialClusterMethod.html" title="enum class in imagingbook.common.color.quantize">KMeansClusteringQuantizer.InitialClusterMethod</a>&nbsp;initMethod,
 int&nbsp;maxIterations)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor, creates a new <a href="KMeansClusteringQuantizer.html" title="class in imagingbook.common.color.quantize"><code>KMeansClusteringQuantizer</code></a> with up to K colors, but never more than the number
 of colors found in the supplied pixel data.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>float[][]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getColorMap()" class="member-name-link">getColorMap</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the color map produced by this color quantizer.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTotalError()" class="member-name-link">getTotalError</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Returns the final clustering error, calculated as the sum of the squared distances of the color samples to the
 associated cluster centers.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listClusters()" class="member-name-link">listClusters</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Lists the color clusters to System.out (for debugging only).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-imagingbook.common.color.quantize.ColorQuantizer">Methods inherited from interface&nbsp;imagingbook.common.color.quantize.<a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></h3>
<code><a href="ColorQuantizer.html#findColorIndex(int,float%5B%5D%5B%5D)">findColorIndex</a>, <a href="ColorQuantizer.html#getColorCount()">getColorCount</a>, <a href="ColorQuantizer.html#quantize(int)">quantize</a>, <a href="ColorQuantizer.html#quantize(int%5B%5D)">quantize</a>, <a href="ColorQuantizer.html#quantize(ij.process.ColorProcessor)">quantize</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="RandomSeed">
<h3>RandomSeed</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">long</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-44">RandomSeed</a></span></div>
<div class="block">Seed for random number generation (set to a nonzero value to obtain repeatable results for debugging and
 testing).</div>
</section>
</li>
<li>
<section class="detail" id="DefaultIterations">
<h3>DefaultIterations</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-47">DefaultIterations</a></span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(int[],int)">
<h3>KMeansClusteringQuantizer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-70">KMeansClusteringQuantizer</a></span><wbr><span class="parameters">(int[]&nbsp;pixels,
 int&nbsp;K)</span></div>
<div class="block">Constructor, creates a new <a href="KMeansClusteringQuantizer.html" title="class in imagingbook.common.color.quantize"><code>KMeansClusteringQuantizer</code></a> with up to K colors, using default parameters.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pixels</code> - an image as a aRGB-encoded int array</dd>
<dd><code>K</code> - the desired number of colors (1 or more)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int[],int,imagingbook.common.color.quantize.KMeansClusteringQuantizer.InitialClusterMethod,int)">
<h3>KMeansClusteringQuantizer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-83">KMeansClusteringQuantizer</a></span><wbr><span class="parameters">(int[]&nbsp;pixels,
 int&nbsp;K,
 <a href="KMeansClusteringQuantizer.InitialClusterMethod.html" title="enum class in imagingbook.common.color.quantize">KMeansClusteringQuantizer.InitialClusterMethod</a>&nbsp;initMethod,
 int&nbsp;maxIterations)</span></div>
<div class="block">Constructor, creates a new <a href="KMeansClusteringQuantizer.html" title="class in imagingbook.common.color.quantize"><code>KMeansClusteringQuantizer</code></a> with up to K colors, but never more than the number
 of colors found in the supplied pixel data.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pixels</code> - an image as a aRGB-encoded int array</dd>
<dd><code>K</code> - the desired number of colors (1 or more)</dd>
<dd><code>initMethod</code> - the method to initialize color clusters (<a href="KMeansClusteringQuantizer.InitialClusterMethod.html" title="enum class in imagingbook.common.color.quantize"><code>KMeansClusteringQuantizer.InitialClusterMethod</code></a>)</dd>
<dd><code>maxIterations</code> - the maximum number of clustering iterations</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getColorMap()">
<h3>getColorMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">float[][]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-206">getColorMap</a></span>()</div>
<div class="block"><span class="description-from-type-label">Description copied from interface:&nbsp;<code><a href="ColorQuantizer.html#getColorMap()">ColorQuantizer</a></code></span></div>
<div class="block">Retrieves the color map produced by this color quantizer. The returned array is in the format float[idx][rgb],
 where rgb = 0 (red), 1 (green), 2 (blue) and  0 &le; idx &lt; nColors.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ColorQuantizer.html#getColorMap()">getColorMap</a></code>&nbsp;in interface&nbsp;<code><a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></code></dd>
<dt>Returns:</dt>
<dd>The table of reference (quantization) colors.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listClusters()">
<h3>listClusters</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-216">listClusters</a></span>()</div>
<div class="block">Lists the color clusters to System.out (for debugging only).</div>
</section>
</li>
<li>
<section class="detail" id="getTotalError()">
<h3>getTotalError</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/KMeansClusteringQuantizer.html#line-228">getTotalError</a></span>()</div>
<div class="block">Returns the final clustering error, calculated as the sum of the squared distances of the color samples to the
 associated cluster centers. This calculation is performed during the final iteration.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the final clustering error</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2006&#x2013;2025,<a href="https://imagingbook.com" target="new">Wilhelm Burger, Mark J. Burge</a><a href="http://opensource.org/licenses/BSD-2-Clause" target="new">(BSD 2-Clause Simplified License)</a>.Build Date: 2025-10-24T07:26:27Z</small></p>
</footer>
</div>
</div>
</body>
</html>
