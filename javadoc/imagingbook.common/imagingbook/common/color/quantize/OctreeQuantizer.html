<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri Dec 16 18:43:05 CET 2022 -->
<title>OctreeQuantizer (com.imagingbook:imagingbook-public 6.0.1-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-12-16">
<meta name="description" content="declaration: module: imagingbook.common, package: imagingbook.common.color.quantize, class: OctreeQuantizer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><br><font face="verdana"><B>com.imagingbook:imagingbook-public 6.0.1-SNAPSHOT</B></font></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/OctreeQuantizer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">imagingbook.common</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">imagingbook.common.color.quantize</a></div>
<h1 title="Class OctreeQuantizer" class="title">Class OctreeQuantizer</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">imagingbook.common.color.quantize.OctreeQuantizer</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/OctreeQuantizer.html#line-48">OctreeQuantizer</a></span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></span></div>
<div class="block"><p>
 This class implements color quantization based on the octree method. It is a
 re-factored version of an implementation (<code>OctTreeOpImage.java</code>) used
 in Sun's JAI (Java Advanced Imaging) framework, which &ndash; in turn &ndash;
 is based on a C implementation (<code>quantize.c</code>) by John Cristy in 1992 as
 part of <a href="http://www.imagemagick.org/">ImageMagick</a>. The associated
 source code can be found <a href="https://github.com/ImageMagick/ImageMagick/blob/main/MagickCore/quantize.c">
 here</a>, the original license note is provided at the bottom of this source
 file. This implementation is similar but not identical to the original octree
 quantization algorithm described in [1].
 </p>
 <p>
 This implementation uses a modified strategy for pruning the octree for
 better efficiency. "Quick quantization" means that original colors are mapped
 to their color index by simply finding the containing octree node. Otherwise,
 the closest quantized color (in terms of Euclidean distance) is searched for,
 which is naturally slower. See Sec. 13.4 of [2] for more details.
 </p>
 <p>
 [1] M. Gervautz and W. Purgathofer, "A simple method for color quantization:
 octree quantization", in A. Glassner (editor), Graphics Gems I, pp. 287â€“293.
 Academic Press, New York (1990).<br>
 [2] W. Burger, M.J. Burge, <em>Digital Image Processing &ndash; An
 Algorithmic Introduction</em>, 3rd ed, Springer (2022).
 </p></div>
<dl class="notes">
<dt>Version:</dt>
<dd>2022/11/05</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-imagingbook.common.color.quantize.ColorQuantizer">Fields inherited from interface&nbsp;imagingbook.common.color.quantize.<a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></h3>
<code><a href="ColorQuantizer.html#MAX_RGB">MAX_RGB</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(int%5B%5D,int)" class="member-name-link">OctreeQuantizer</a><wbr>(int[]&nbsp;pixels,
 int&nbsp;K)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor, creates a new <a href="OctreeQuantizer.html" title="class in imagingbook.common.color.quantize"><code>OctreeQuantizer</code></a> with up to K colors, but
 never more than the number of colors found in the supplied image.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(int%5B%5D,int,boolean)" class="member-name-link">OctreeQuantizer</a><wbr>(int[]&nbsp;pixels,
 int&nbsp;K,
 boolean&nbsp;quick)</code></div>
<div class="col-last odd-row-color">
<div class="block">Constructor, creates a new <a href="OctreeQuantizer.html" title="class in imagingbook.common.color.quantize"><code>OctreeQuantizer</code></a> with up to K colors, but
 never more than the number of colors found in the supplied image.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findColorIndex(int,float%5B%5D%5B%5D)" class="member-name-link">findColorIndex</a><wbr>(int&nbsp;p,
 float[][]&nbsp;colormap)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Finds the color table index of the color that is "closest" to the supplied RGB color (minimum Euclidean distance
 in color space).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>float[][]</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getColorMap()" class="member-name-link">getColorMap</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves the color map produced by this color quantizer.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#listNodes()" class="member-name-link">listNodes</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Lists the octree nodes to System.out (for debugging only).</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-imagingbook.common.color.quantize.ColorQuantizer">Methods inherited from interface&nbsp;imagingbook.common.color.quantize.<a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></h3>
<code><a href="ColorQuantizer.html#getColorCount()">getColorCount</a>, <a href="ColorQuantizer.html#quantize(int)">quantize</a>, <a href="ColorQuantizer.html#quantize(int%5B%5D)">quantize</a>, <a href="ColorQuantizer.html#quantize(ij.process.ColorProcessor)">quantize</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(int[],int)">
<h3>OctreeQuantizer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/OctreeQuantizer.html#line-75">OctreeQuantizer</a></span><wbr><span class="parameters">(int[]&nbsp;pixels,
 int&nbsp;K)</span></div>
<div class="block">Constructor, creates a new <a href="OctreeQuantizer.html" title="class in imagingbook.common.color.quantize"><code>OctreeQuantizer</code></a> with up to K colors, but
 never more than the number of colors found in the supplied image. Quick
 quantization is turned off by default.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pixels</code> - an image as a aRGB-encoded int array</dd>
<dd><code>K</code> - the desired number of colors (1 or more)</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(int[],int,boolean)">
<h3>OctreeQuantizer</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/OctreeQuantizer.html#line-93">OctreeQuantizer</a></span><wbr><span class="parameters">(int[]&nbsp;pixels,
 int&nbsp;K,
 boolean&nbsp;quick)</span></div>
<div class="block">Constructor, creates a new <a href="OctreeQuantizer.html" title="class in imagingbook.common.color.quantize"><code>OctreeQuantizer</code></a> with up to K colors, but
 never more than the number of colors found in the supplied image. "Quick"
 quantization can be selected, which means that original colors are mapped to
 their color index by simply finding the containing octree node. Otherwise,
 the closest quantized color (in terms of Euclidean distance) is searched for,
 which is naturally slower but usually gives better results. This setting only
 affects the final assignment of input colors to the nearest reference colors,
 the reference colors themselves are not changed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>pixels</code> - an image as a aRGB-encoded int array</dd>
<dd><code>K</code> - the desired number of colors (1 or more)</dd>
<dd><code>quick</code> - turns "quick quantization" on or off</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="listNodes()">
<h3>listNodes</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/OctreeQuantizer.html#line-175">listNodes</a></span>()</div>
<div class="block">Lists the octree nodes to System.out (for debugging only).</div>
</section>
</li>
<li>
<section class="detail" id="getColorMap()">
<h3>getColorMap</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">float[][]</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/OctreeQuantizer.html#line-351">getColorMap</a></span>()</div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ColorQuantizer.html#getColorMap()">ColorQuantizer</a></code></span></div>
<div class="block">Retrieves the color map produced by this color quantizer.
 The returned array is in the format float[idx][rgb], where
 rgb = 0 (red), 1 (green), 2 (blue) and  0 &le; idx &lt; nColors.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ColorQuantizer.html#getColorMap()">getColorMap</a></code>&nbsp;in interface&nbsp;<code><a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></code></dd>
<dt>Returns:</dt>
<dd>The table of reference (quantization) colors.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findColorIndex(int,float[][])">
<h3>findColorIndex</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name"><a href="../../../../../src-html/imagingbook.common/imagingbook/common/color/quantize/OctreeQuantizer.html#line-356">findColorIndex</a></span><wbr><span class="parameters">(int&nbsp;p,
 float[][]&nbsp;colormap)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="ColorQuantizer.html#findColorIndex(int,float%5B%5D%5B%5D)">ColorQuantizer</a></code></span></div>
<div class="block">Finds the color table index of the color that is "closest" to the supplied RGB color (minimum Euclidean distance
 in color space). This method may be overridden by inheriting classes, for example, to use quick indexing in the
 octree method.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="ColorQuantizer.html#findColorIndex(int,float%5B%5D%5B%5D)">findColorIndex</a></code>&nbsp;in interface&nbsp;<code><a href="ColorQuantizer.html" title="interface in imagingbook.common.color.quantize">ColorQuantizer</a></code></dd>
<dt>Parameters:</dt>
<dd><code>p</code> - Original color, encoded as an ARGB integer.</dd>
<dd><code>colormap</code> - a color map (float)</dd>
<dt>Returns:</dt>
<dd>The associated color table index.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2006&#x2013;2022, 		        <a href="https://imagingbook.com" target="new">Wilhelm Burger, Mark J. Burge</a> 		        <a href="http://opensource.org/licenses/BSD-2-Clause" target="new"> 		        (BSD 2-Clause Simplified License)</a>. 			Build Date: 2022-12-16T17:42:59Z</small></p>
</footer>
</div>
</div>
</body>
</html>
